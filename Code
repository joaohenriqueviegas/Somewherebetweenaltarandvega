<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Slider</title>
  <link rel="stylesheet" href="slider.css">
</head>
<body>

  <div id = "first_player">
    <div id = "slide" > </div>
  </div>
 <div id = "second_player"></div>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<style>
#player{
  width: : 350px;
  height: 50px;
  position: relative;
  margin: 0 auto;
  top: 150px;
}
#slide{
  position: absolute;
  left: 24px;
  margin: 0 auto;
  height: 15px;
  width: 300px;
}
#slide .ui-slider-handle{
  width: 38px;
  height: 35px;
  background: url('images/volume-knob.png')no-repeat left top;
  position: absolute;
  margin-left: -15px;
  margin-top: -8px;
}
</style>

<script>
$(document).ready(function(){
  var valid = true;
  $("#slide").slider({
    min: 0,
    max: 100,
    value: 0,
    animate: true,  
    range: 'min',
    slide: function(event,ui){
      setVolume(ui.value/100);
      if(valid){
        playAudio('audio/ViewSource',0);
        playAudio('audio/ViewSource',100);
      }
      valid = false;
    }
  });
  var song1 = new Audio('audio'); 
  var song2 = new Audio('audio');
  $('#first_player').append(song1);
  $('#second_player').append(song2);

  song2.id = 'song2';
  song1.id = 'song1';
});

function playAudio(fileName , myVolume){
  var mediaExt = (song1.canPlayType('audio/mp3')) ?'.mp3' : 
  (song1.canPlayType('audio/ogg')) ? '.ogg': '';//Firefox nao suporta mp3

  song1.src = fileName + mediaExt;
  song1.setAttribute('loop' , 'loop');
  song1.play();
  song2.src = fileName + mediaExt;
  song2.setAttribute('loop' , 'loop');
  song2.play();
}

function setVolume(myVolume){
  var song1 = document.getElementById('song1');
  var song2 = document.getElementById('song2');
  song1.volume = myVolume;
  song2.volume = 1-myVolume;
}
</script>

</body>
</html>
